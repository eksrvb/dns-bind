apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "dns-bind.fullname" . }}
  labels:
    {{- include "dns-bind.labels" . | nindent 4 }}
data:
  DEBUG_ENTRYPOINT: {{ .Values.envValues.debug_entrypoint | quote }}
  DOCKER_LOGS: {{ .Values.envValues.docker_logs | quote }}
  {{- if .Values.envValues.wildcard_dns }}
  WILDCARD_DNS: {{ .Values.envValues.wildcard_dns | quote }}
  {{- end }}
  {{- if .Values.envValues.extra_hosts }}
  EXTRA_HOSTS: {{ .Values.envValues.extra_hosts | quote }}
  {{- end }}
  DNSSEC_VALIDATE: {{ .Values.envValues.dnssec_validate | quote }}
  {{- if .Values.envValues.dns_forwarder }}
  DNS_FORWARDER: {{ .Values.envValues.dns_forwarder | quote }}
  {{- end }}
  TTL_TIME: {{ int .Values.envValues.ttl_time }}
  REFRESH_TIME: {{ int .Values.envValues.refresh_time }}
  RETRY_TIME: {{ int .Values.envValues.retry_time }}
  EXPIRY_TIME: {{ int .Values.envValues.expiry_time }}
  MAX_CACHE_TIME: {{ int .Values.envValues.max_cache_time }}
  {{- if .Values.envValues.allow_query }}
  ALLOW_QUERY: {{ .Values.envValues.allow_query | quote }}
  {{- end }}
  {{- if .Values.envValues.allow_recursion }}
  ALLOW_RECURSION: {{ .Values.envValues.allow_recursion | quote }}
  {{- end }}
